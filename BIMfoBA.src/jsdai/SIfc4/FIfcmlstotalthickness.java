/* Generated by JSDAI Express Compiler, version 4.3.2, build 500, 2011-12-13 */

// Java class implementing EXPRESS function IfcMlsTotalThickness

package jsdai.SIfc4;
import jsdai.lang.*;








public class FIfcmlstotalthickness {
	
	// declaration of non-VAR parameters
	Value _nonvar__e_LayerSet;
	// end of declaration of non-VAR parameters

	// declaration of local variables
	Value _e_Max;
	// end of declaration of local variables


	public Value run(SdaiContext _context, Value _e_LayerSet) throws SdaiException {

		// initialization of non-VAR parameters
		_nonvar__e_LayerSet = Value.alloc(jsdai.SIfc4.CIfcmateriallayerset.definition).set(_e_LayerSet);
		// end of initialization of non-VAR parameters

		// initialization of local variables
		_e_Max = Value.alloc(jsdai.SIfc4.SIfc4._st_IfcLengthMeasure).set(_context, _nonvar__e_LayerSet.getAttribute(jsdai.SIfc4.CIfcmateriallayerset.attributeMateriallayers(null), _context).indexing(Value.alloc(ExpressTypes.INTEGER_TYPE).set(_context, 1), null).getAttribute(jsdai.SIfc4.CIfcmateriallayer.attributeLayerthickness(null), _context));
		// end of initialization of local variables





																												if (Value.alloc(ExpressTypes.LOGICAL_TYPE).greater(_context, Value.alloc(ExpressTypes.INTEGER_TYPE).sizeOf(_nonvar__e_LayerSet.getAttribute(jsdai.SIfc4.CIfcmateriallayerset.attributeMateriallayers(null), _context)), Value.alloc(ExpressTypes.INTEGER_TYPE).set(_context, 1)).getLogical() == 2) {																												
																													Value _end432 = Value.alloc(ExpressTypes.NUMBER_TYPE).set(Value.alloc(ExpressTypes.INTEGER_TYPE).hiIndex(_nonvar__e_LayerSet.getAttribute(jsdai.SIfc4.CIfcmateriallayerset.attributeMateriallayers(null), _context)));
																													Value _step432 = Value.alloc(ExpressTypes.INTEGER_TYPE).set(_context, 1);
																													for (Value _implicit_105_i=Value.alloc(ExpressTypes.INTEGER_TYPE).set(_context, 2);Value.alloc(ExpressTypes.LOGICAL_TYPE).lequal(_context, _implicit_105_i, _end432).getLogical() == 2;_implicit_105_i.inc(_step432)) {																													
																														_e_Max.set(_context, Value.alloc().addOrUnionOrConcatenate(_context, _e_Max, _nonvar__e_LayerSet.getAttribute(jsdai.SIfc4.CIfcmateriallayerset.attributeMateriallayers(null), _context).indexing(_implicit_105_i, null).getAttribute(jsdai.SIfc4.CIfcmateriallayer.attributeLayerthickness(null), _context)));
																													} // for - REPEAT
																												}




		if (true) return Value.alloc(jsdai.SIfc4.SIfc4._st_IfcLengthMeasure).set(_context, _e_Max).check(_context, jsdai.SIfc4.SIfc4._st_IfcLengthMeasure);

		return Value.alloc(ExpressTypes.GENERIC_TYPE).unset(); // if return is missing in express - add printing of error message?
	}

}
